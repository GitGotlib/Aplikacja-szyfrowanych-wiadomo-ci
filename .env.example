# Ustawienia środowiska (PRZYKŁAD) — bez sekretów i bez kluczy.
# W praktyce wartości oznaczone jako "wymagany sekret" dostarczaj przez Docker secrets lub zmienne środowiskowe w systemie uruchomieniowym.

APP_ENV=production
APP_NAME=secure-messaging-poc

# Publiczny host (używany m.in. do generowania linków)
PUBLIC_BASE_URL=https://localhost

# Backend
BACKEND_HOST=backend
BACKEND_PORT=8000

# CORS (comma-separated list)
# Tip: przeglądarka często używa https://127.0.0.1 zamiast https://localhost.
CORS_ALLOW_ORIGINS=https://localhost,https://127.0.0.1

# Baza danych (SQLite w wolumenie)
SQLITE_PATH=/var/lib/app/app.sqlite3

# Limity bezpieczeństwa
MAX_ATTACHMENT_BYTES=26214400
MAX_RECIPIENTS_PER_MESSAGE=25
LOGIN_RATE_LIMIT_PER_MINUTE=10

# Sesje / blokady konta
SESSION_TTL_SECONDS=28800
MAX_FAILED_LOGINS=10
LOCKOUT_SECONDS=600

# Parametry ciasteczek sesyjnych (jeśli używane)
COOKIE_SECURE=true
COOKIE_SAMESITE=strict

# NGINX / TLS
# - TLS_MODE=dev  -> oczekuje nginx/certs/tls.(crt|key)
# - TLS_MODE=prod -> oczekuje nginx/certs/(fullchain.pem|privkey.pem)
TLS_MODE=dev
# Domyślnie używany jest nginx/nginx.conf (DEV). Dla PROD ustaw nginx/nginx.prod.conf
NGINX_CONFIG_FILE=nginx.conf

# WYMAGANE SEKRETY (NIE UMIESZCZAĆ W REPO)
# Format każdego sekretu:
# - base64
# - po dekodowaniu dokładnie 32 bajty (AES-256 key / HMAC key)
# - wartość nie może być pusta
#
# APP_SECRET_KEY=BASE64_32B
# DATA_KEY=BASE64_32B
# TOTP_KEY_ENCRYPTION_KEY=BASE64_32B
# USER_HMAC_KEY_ENCRYPTION_KEY=BASE64_32B
